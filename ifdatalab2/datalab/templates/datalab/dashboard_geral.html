{% extends 'dashboard/dashboard_base.html' %}

{% block title %}Visão Geral{% endblock %}

{% block dashboard_content %}
<h1 class="text-2xl font-bold">Visão Geral do Sistema</h1>

<section class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4 mt-4">
    <div class="card text-center">
        <p class="text-2xl font-extrabold text-gray-800">{{ metrics.total_autores }}</p>
        <p class="text-sm text-muted">Pesquisadores</p>
    </div>
    <div class="card text-center">
        <p class="text-2xl font-extrabold text-gray-800">{{ metrics.total_grupo_pesquisa }}</p>
        <p class="text-sm text-muted">Grupos</p>
    </div>
    <div class="card text-center">
        <p class="text-2xl font-extrabold text-gray-800">{{ metrics.total_publicacoes }}</p>
        <p class="text-sm text-muted">Publicações</p>
    </div>
    <div class="card text-center">
        <p class="text-2xl font-extrabold text-gray-800">{{ metrics.total_orientacoes }}</p>
        <p class="text-sm text-muted">Orientações</p>
    </div>
    <div class="card text-center">
        <p class="text-2xl font-extrabold text-gray-800">{{ metrics.total_producoes }}</p>
        <p class="text-sm text-muted">Produções</p>
    </div>
</section>

<section class="card"> {# Card como container principal #}
    <h2 class="text-lg font-semibold border-b pb-3 mb-4">
        Ver Dashboards de Grupos
    </h2>

    {# Container para a lista de grupos #}
    <div class="space-y-2">
        {% for grupo in grupos %}
            <a href="{% url 'datalab:dashboard_grupo' grupo.id %}" class="block p-3 rounded-md text-gray-700 font-medium transition-colors hover:bg-green-50 hover:text-green-800">
                <div class="flex items-center justify-between">
                    <span>{{ grupo.nome }}</span>
                    <span class="text-xs">&rarr;</span> {# Seta para indicar ação #}
                </div>
            </a>
        {% empty %}
            <p class="text-sm text-muted p-3">Nenhum grupo de pesquisa cadastrado.</p>
        {% endfor %}
    </div>
</section>
{% endblock %}